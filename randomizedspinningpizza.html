<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'/>
<title>Randomized Spinning Pizza</title>
<link rel="icon" href="icon/icon.ico"/>
<style>
@keyframes pizzasunite {
  from {transform:scale(0.0);}
  to {transform:scale(1.0);}
}
@keyframes rotate {
  from {transform:rotate(0deg);}
  to {transform:rotate(360deg);}
}
div {animation-name:rotate;animation-duration:2s;animation-iteration-count:infinite;animation-timing-function:linear;width:100px;height:100px;}
svg {transform:scale(1.0);animation-name:pizzasunite;animation-duration:1s;transition:transform 1s;}
circle {cursor:pointer;}
</style>
</head>
<body>
<!-- CLICK THE PIZZA!! -->

<div onclick="resetPizza()">
  <svg width="100" height="100" xmlns="http://www.w3.org/2000/svg">
    <circle cx="50" cy="50" r="45" stroke="#dba51c" fill="#ffd447" stroke-width="5"/>
  </svg>
</div>
<script>
var lim = parseInt(decodeURIComponent(window.location.search.substring(1)));
var num = 20;
if (decodeURIComponent(window.location.search.substring(1))!=="") {
    num = lim;
}
var svg = document.getElementsByTagName("svg")[0];
svg.style.transform = "scale(0.0)";
window.setTimeout(function(){svg.style.transform = "scale(1.0)";},1000);
var div = document.getElementsByTagName("div")[0];
svg.innerHTML=`<circle cx="50" cy="50" r="45" stroke="#dba51c" fill="#ffd447" stroke-width="5"/>`;
  for (var i=0;i<Math.floor(Math.random()*(num)+1);i++) {
  svg.innerHTML+=`<circle cx="50" cy="50" r="4" stroke="#a51d1a" fill="#ce302d" stroke-width="2"/>`;
}
var circles = document.getElementsByTagName("circle");
for (var i=1;i<circles.length;i++) {
  var x=0;
  var y=0;
  while (Math.sqrt((x-50)**2+(y-50)**2)>=40) {
    x = Math.random()*100;
    y = Math.random()*100;
  }
  circles[i].setAttribute("cx",x);
  circles[i].setAttribute("cy",y);
}
function resetPizza() {
  window.setTimeout(function(){svg.innerHTML=`<circle cx="50" cy="50" r="45" stroke="#dba51c" fill="#ffd447" stroke-width="5"/>`;
  for (var i=0;i<Math.floor(Math.random()*(num)+1);i++) {
  svg.innerHTML+=`<circle cx="50" cy="50" r="4" stroke="#a51d1a" fill="#ce302d" stroke-width="2"/>`;
}
var circles = document.getElementsByTagName("circle");
for (var i=1;i<circles.length;i++) {
  var x=0;
  var y=0;
  while (Math.sqrt((x-50)**2+(y-50)**2)>=40) {
    x = Math.random()*100;
    y = Math.random()*100;
  }
  circles[i].setAttribute("cx",x);
  circles[i].setAttribute("cy",y);
}},1000);
svg.style.transform = "scale(0.0)";
window.setTimeout(function(){svg.style.transform = "scale(1.0)";},1000);
}
</script>
</body>
</html>
