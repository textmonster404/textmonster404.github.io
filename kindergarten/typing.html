<!DOCTYPE html>
<html>
    <head>
        <title>Typing!</title>
        <link rel="stylesheet" href="https://textmonster404.github.io/Games/doge2048/style/fonts/comic-sans.css"/>
        <style>
            @keyframes changedaColor {
                0% {color:red;}
                12.5% {color:orange;}
                25% {color:yellow;}
                37.5% {color:green;}
                50% {color:springgreen}
                62.5% {color:cyan;}
                75% {color:blue;}
                87.5% {color:purple;}
                100% {color:red;}
            }
            body {text-align:center;}
            body,input,button {font-family:'Comic Sans','Comic Sans',Chalkboard,Helvetica,Arial,sans-serif;}
            input {border:none;background:white;border-bottom:3px solid red;font-size:32pt;outline:none;}
            h2 {font-size:32pt;animation-name:changedaColor;animation-duration:3s;animation-iteration-count:infinite;animation-timing-function:linear;}
            h1 {font-size:64pt;margin:0px;text-decoration:underline;}
            button {border-radius:8pt;background:#00ff00;font-size:32pt;outline:none;border:2px outset #00ff00;padding:16pt 24pt 16pt 24pt;color:white;cursor:pointer;}
            button:active {border:2px inset #00ff00;}
            #response {font-size:18pt;}
            #left {transform:rotate(90deg) translateX(-50%);font-size:24pt;position:absolute;left:0px;top:50%;}
            #right {transform:rotate(-90deg) translateX(50%);font-size:24pt;position:absolute;right:0px;top:50%;}
            #left span {display:inline-block;transform:rotate(-90deg);}
            #right span {display:inline-block;transform:rotate(90deg);}
        </style>
    </head>
    <body>
        <h1>Typing</h1>
        <h2><div id="text"></div><input id="type" placeholder="Type here!"/></h2>
        <button id="check"></button>
        <div id="response"></div>
        <div id="left"><span>left</span></div>
        <div id="right"><span>right</span></div>
        <script>
            var word = decodeURIComponent(window.location.search.substring(1));
            var text = document.getElementById("text");
            var type = document.getElementById("type");
            var check = document.getElementById("check");
            var response = document.getElementById("response");
            type.focus();
            text.innerText = word;
            check.innerText = "Check!";
            check.onclick = function(){
                var similar = true;
                for (var i=0;i<type.value.length;i++) {
                    if (!word.includes(type.value.charAt(i))) {
                        similar = false;
                    }
                }
                if (type.value==word) {
                    response.innerHTML = "<font color=\"green\">Good job!</font>";
                    type.style.borderBottom = "2px solid lime";
                    type.disabled = true;
                    localStorage.setItem("typing-"+word,true);
                    window.setTimeout(function(){window.location.href="typinglist.html";},2000);
                } else if (type.value=="") {
                    response.innerHTML = "Looks like you didn't type anything.<br/>Click on the box that says, \"Type here!\"";
                } else if (word.toLowerCase()==type.value&&word.toLowerCase()!=word) {
                    response.innerHTML = "Use the <b>shift</b> key to make letters upper case.";
                } else if (similar) {
                    response.innerHTML = "Close! Try again.";
                } else {
                    response.innerHTML = "Good try. Try again.";
                }
            }
            var time = 0;
            var looking = false;
            window.setInterval(function(){
                time++;
                if (time>20&&response.innerHTML!="<font color=\"green\">Good job!</font>"&&type.value.length<word.length) {
                    response.innerHTML = keys[word.charAt(type.value.length).toLowerCase()];
                    time = 10;
                    looking = true;
                }
            },1000);
            type.onkeypress = function(e){
                if (e.key=="Enter") {
                    check.onclick();
                } else if (e.key==word.charAt(type.value.length)&&looking) {
                    response.innerHTML = "You found it!";
                } else {
                    response.innerHTML = "";
                }
                looking = false;
            }
            var keys = {};
            keys["a"] = "The <b>a</b> key is on the left.";
            keys["b"] = "The <b>b</b> key is on the bottom.";
            keys["c"] = "The <b>c</b> key is near the bottom.";
            keys["d"] = "The <b>d</b> key is near the left.";
            keys["e"] = "The <b>e</b> key is near the left.";
            keys["f"] = "The <b>f</b> key is near the middle.";
            keys["g"] = "The <b>g</b> key is in the middle.";
            keys["h"] = "The <b>h</b> key is near the middle.";
            keys["i"] = "The <b>i</b> key is near the right.";
            keys["j"] = "The <b>j</b> key is near the right.";
            keys["k"] = "The <b>k</b> key is near the right.";
            keys["l"] = "The <b>l</b> key is on the right.";
            keys["m"] = "The <b>m</b> key is near the right.";
            keys["n"] = "The <b>n</b> key is near the right.";
            keys["o"] = "The <b>o</b> key is on the right.";
            keys["p"] = "The <b>p</b> key is on the right.";
            keys["q"] = "The <b>q</b> key is on the left.";
            keys["r"] = "The <b>r</b> key is near the left.";
            keys["s"] = "The <b>s</b> key is on the left.";
            keys["t"] = "The <b>t</b> key is near the top.";
            keys["u"] = "The <b>u</b> key is near the top.";
            keys["v"] = "The <b>v</b> key is on the bottom.";
            keys["w"] = "The <b>w</b> key is on the left.";
            keys["x"] = "The <b>x</b> key is near the left.";
            keys["y"] = "The <b>y</b> key is near the top.";
            keys["z"] = "The <b>z</b> key is on the left.";
            keys["1"] = "The <b>numbers</b> are on the top.";
            keys["2"] = "The <b>numbers</b> are on the top.";
            keys["3"] = "The <b>numbers</b> are on the top.";
            keys["4"] = "The <b>numbers</b> are on the top.";
            keys["5"] = "The <b>numbers</b> are on the top.";
            keys["6"] = "The <b>numbers</b> are on the top.";
            keys["7"] = "The <b>numbers</b> are on the top.";
            keys["8"] = "The <b>numbers</b> are on the top.";
            keys["9"] = "The <b>numbers</b> are on the top.";
            keys["0"] = "The <b>numbers</b> are on the top.";
        </script>
    </body>
</html>
